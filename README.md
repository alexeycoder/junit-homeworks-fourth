## Unit-тесты 4. Зависимости в тестах

### Задание 1

*Вопрос 1.* Почему использование тестовых заглушек может быть полезным при написании модульных тестов?

*Ответ:* Заглушки служат изоляции, хотя бы частичной, тестируемого кода от его зависимостей, что помогает:
* абстрагироваться от возможных сложных взаимосвязей между самими зависимостями и от возможных ошибок, скрытых в этих зависимостях и, как следствие, упростить локализацию проблемы, если таковая обнаружится;
* а также, упростить само тестирование, если настройка и сопровождение реальной зависимости трудоёмко.
<br><br>

*Вопрос 2.* Какой тип тестовой заглушки следует использовать, если вам нужно проверить, что метод был вызван с определенными аргументами?

*Ответ:* Для проверки вызовов от тестируемой системы к её зависимости следует использовать такую разновидность заглушки данной зависимости, как Макет (Mock), настроенный на сравнение значений аргументов, передаваемых тестируемой системой в интересуемый метод, с ожидаемыми значениями.
<br><br>

*Вопрос 3.* Какой тип тестовой заглушки следует использовать, если вам просто нужно вернуть определенное значение или исключение в ответ на вызов метода?

*Ответ:* Следует использовать простую заглушку Стаб (Stub), не реализующую особой логики, а возвращающую предопределённое значение.
<br><br>

*Вопрос 4.* Какой тип тестовой заглушки вы бы использовали для имитации взаимодействия с внешним API или базой данных?

*Ответ:* Для целей имитации взаимодействия с внешней службой подойдёт заглушка вида Подделка (Fake), являющаяся разновидностью Стаба (Stub) с некоторой простой легковесной реализацией, эмулирующей поведение данной службы.

### Задание 2

У вас есть класс `BookService`, который использует интерфейс `BookRepository` для получения информации о книгах из базы данных. 

Ваша задача написать unit-тесты для `BookService`, используя *Mockito* для создания мок-объекта `BookRepository`.

#### Решение

Поскольку, условием не оговаривается, что тесты должны проходиться заданной реализацией `BookService`, те некоторые тесты спроектированы так, чтобы выявить недостатки в оригинальной реализации.

![Tests](https://raw.githubusercontent.com/alexeycoder/illustrations/main/java-junit-hw4/example.png)
